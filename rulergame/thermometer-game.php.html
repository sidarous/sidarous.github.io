<!doctype html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <title>The Thermometer Reading Game - Learn and Practice Reading a Thermometer</title>
	
<meta name="description" content="With our intuitive thermometer game, you can easily learn and practice reading Fahrenheit and Celsius thermometers.">
<meta property="og:title" content="The Thermometer Reading Game - Learn and Practice Reading a Thermometer">
<meta property="og:description" content="With our intuitive thermometer game, you can easily learn and practice reading Fahrenheit and Celsius thermometers.">
<meta property="og:image" content="https://www.rulergame.net/images/og-thermometer-game.png">
<meta property="og:url" content="https://www.rulergame.net/thermometer-game.php">
<meta property="og:type" content="website">
<link rel="canonical" href="thermometer-game.php.html">	
	
	
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/site.css">
    <link rel="stylesheet" href="assets/css/animate.min.css">
    <link rel="stylesheet" href="thermometer-reading/css/thermometer.css">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="gtag/js?id=G-XE0GQQH6FP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XE0GQQH6FP');
</script>
<!-- AdThrive Head Tag Manual -->
<script data-no-optimize="1" data-cfasync="false">
(function(w, d) {
	w.adthrive = w.adthrive || {};
	w.adthrive.cmd = w.
	adthrive.cmd || [];
	w.adthrive.plugin = 'adthrive-ads-manual';
	w.adthrive.host = 'ads.adthrive.com';var s = d.createElement('script');
	s.async = true;
	s.referrerpolicy='no-referrer-when-downgrade';
	s.src = 'https://' + w.adthrive.host + '/sites/6441cbd48ef14750ba9ecca1/ads.min.js?referrer=' + w.encodeURIComponent(w.location.href) + '&cb=' + (Math.floor(Math.random() * 100) + 1);
	var n = d.getElementsByTagName('script')[0];
	n.parentNode.insertBefore(s, n);
})(window, document);
</script>
<!-- End of AdThrive Head Tag -->
</head>

<body>    
<!-- Navbar -->
<div class="z100">
    <div class="w3-bar w3-pale-green w3-card w3-left-align w3-large">
        <a class="w3-bar-item w3-button w3-padding-large rulergame-dark-green" href="javascript:void(0);" onclick="toggleNavMenu()" title="Toggle Navigation Menu">Menu</a>
        <div id="topBanner"><a href="index.htm"><img src="images/rulergame.gif" id="topBannerImage" alt="The Ruler Game - Learn to read a ruler"></a></div>
    </div>
    <div id="NavMenu" class="w3-dropdown-content w3-bar-block w3-border w3-large rulergame-dark-green z100">
	<a href="index.htm" class="w3-bar-item w3-button w3-padding-large">Home</a>
        <a href="javascript:void(0);" class="w3-bar-item w3-button w3-padding-large" onclick="toggleCategory('measuringGames')">Measuring Games</a>
        <div id="measuringGames" class="w3-hide w3-bar-block rulergame-submenu">
            <a href="new-english-ruler-game.php.html" class="w3-bar-item w3-button w3-padding-large">Inch Ruler Game</a>
            <a href="new-metric-ruler-game.php.html" class="w3-bar-item w3-button w3-padding-large">Metric Ruler Game</a>
            <a href="micrometer-game.php.html" class="w3-bar-item w3-button w3-padding-large">Micrometer Game</a>
            <a href="metric-micrometer-game.php.html" class="w3-bar-item w3-button w3-padding-large">Metric Micrometer Game</a>
			<a href="dial-caliper-game.php.html" class="w3-bar-item w3-button w3-padding-large">Dial Caliper Game</a>
			<a href="vernier-caliper-game.php.html" class="w3-bar-item w3-button w3-padding-large">Vernier Caliper Game</a>
			<a href="graduated-cylinder-game.php.html" class="w3-bar-item w3-button w3-padding-large">Graduated Cylinder Game</a>
			<a href="architectural-scale-game.php.html" class="w3-bar-item w3-button w3-padding-large">Architectural Scale Game</a>
			<a href="machinist-ruler-game.php.html" class="w3-bar-item w3-button w3-padding-large">Machinist Ruler Game</a>
			<a href="triple-beam-balance-game.php.html" class="w3-bar-item w3-button w3-padding-large">Triple Beam Balance Game</a>
        </div>
        <a href="javascript:void(0);" class="w3-bar-item w3-button w3-padding-large" onclick="toggleCategory('timeGames')">Time and Temperature Games</a>
        <div id="timeGames" class="w3-hide w3-bar-block rulergame-submenu">
            <a href="clock-game.php.html" class="w3-bar-item w3-button w3-padding-large">Clock Game</a>
            <a href="military-time-game.php.html" class="w3-bar-item w3-button w3-padding-large">Military Time Game</a>
			<a href="thermometer-game.php.html" class="w3-bar-item w3-button w3-padding-large">Thermometer Reading Game</a>
            <a href="temperature-conversion-game.php.html" class="w3-bar-item w3-button w3-padding-large">Temperature Conversion Game</a>
        </div>
        <a href="javascript:void(0);" class="w3-bar-item w3-button w3-padding-large" onclick="toggleCategory('moneyGames')">Money & Life Games</a>
        <div id="moneyGames" class="w3-hide w3-bar-block rulergame-submenu">
            <a href="money-game.php.html" class="w3-bar-item w3-button w3-padding-large">Money Counting Game</a>
            <a href="shopping-money-counting-game.php.html" class="w3-bar-item w3-button w3-padding-large">Shopping Money Counting Game</a>
            <a href="counting-back-change-game.php.html" class="w3-bar-item w3-button w3-padding-large">Counting Back Change Game</a>
			<a href="blood-pressure-game.php.html" class="w3-bar-item w3-button w3-padding-large">Blood Pressure Game</a>
			<a href="stadiometer-game.php.html" class="w3-bar-item w3-button w3-padding-large">Stadiometer Game</a>
			<a href="physician-scale-game.php.html" class="w3-bar-item w3-button w3-padding-large">Physician Scale Game</a>
			<a href="cooking-conversions-game.php.html" class="w3-bar-item w3-button w3-padding-large">Cooking Conversions Game</a>
        </div>
    </div>
</div>
   
  
<div class="split-screen-layout">  
    <div class="section section-50">
        <div class="canvas-area">
        
            <div id="canvasArea">
                <canvas id="playerCanvas"></canvas>
                <!-- <canvas id="rulerCanvas" width="900" height="500" style="border:2px solid #000000; background-color:#fff"></canvas> -->
                <canvas id="myCanvas" width="400" height="700" style="border:2px solid #000000; background-color:#fff"></canvas>
                <!-- <canvas id="myCanvas" style="border: 1px solid #c3c3c3;">
                    Your browser does not support the HTML5 canvas tag.
                </canvas> -->
              
                <div id="strikeBoard"><span></span></div>
                <div id="cheerBoard"><span></span></div>
        
            </div>    
        </div>
    </div>
    <div class="section section-50">
                <div class="container-fluid setting-section" style="height:0">
            <div id="preferencesBox" class="w3-card w3-pale-yellow w3-border w3-border-yellow">
                <span onclick="$('#preferencesBox').slideToggle();" class="w3-button w3-display-topright">X</span>
                <header class="w3-container w3-yellow">
                <h5>Settings</h5>
                </header>
                <div class="w3-padding-small">
                <div id="timerBox" class="w3-row">
                    <div class="w3-col s6 w3-right-align rulergame-align-vert"><strong>Timer:&nbsp;</strong></div>
                    <div class="w3-col s6">
                        <select id="stgTimer" class="w3-select w3-border">
                            <option value="On" selected="">On</option>
                            <option value="Off">Off</option>
                        </select>  
                    </div>
                </div>
                <div id="soundsBox" class="w3-row">
                    <div class="w3-col s6 w3-right-align rulergame-align-vert"><strong>Sounds:&nbsp;</strong></div>
                    <div class="w3-col s6">
                        <select id="stgSounds" class="w3-select w3-border">
                            <option value="On" selected="">On</option>
                            <option value="Off">Off</option>
                        </select>  
                    </div>
                </div>
        
                <div id="unitSelection" class="w3-row">
                    <div class="w3-col s6 w3-right-align rulergame-align-vert"><strong>Unit:&nbsp;</strong></div>
                    <div class="w3-col s6">
                        <select id="stgUnit" class="w3-select w3-border">
                            <option value="Fahrenheit" selected="">Fahrenheit</option>
                            <option value="Celsius">Celsius</option>
                        </select>  
                    </div>
                </div>
                
                <div id="modeSelection" class="w3-row">
                    <div class="w3-col s6 w3-right-align rulergame-align-vert"><strong>Mode:&nbsp;</strong></div>
                    <div class="w3-col s6">
                        <select id="stgMode" class="w3-select w3-border">
                            <option value="Game" selected="">Game</option>
                            <option value="Trainer">Training</option>
                            <option value="Type">Type</option>
                        </select>  
                    </div>
                </div>
                
                </div>
                <!-- <div id="rulerLengthMessage" class="w3-row"></div> -->
            </div>
            
      
        </div>
         <div class="">
            <!-- <button class="btn btn-game-start" id= "btnStart">
            Play Game
            </button> -->
            <div id="buttonBar">
            <input type="button" id="btnStart" value="Play Game">
            <input type="button" id="btnSettings" value="Settings">
            </div>
        </div>
      
        
        <div id="questionBar">
            <div id="txtQuestion"><span>&nbsp;</span></div>
        </div>
        <div id="detailedControl" class="w3-container w3-padding">
            <div class="w3-row">
                <div id="verniersmall" class="">
                    <div class="w3-row number-input"> 
                        <div id="labelverniersmall" class=""><b>Temperature</b></div>
                        <div class="">
                        <button class="spinner decrement" id="btntempdecrement">-</button>
                            <input id="verniersmallControl" name="sleevemain" value="00000" onchange="DrawSleeveMainChange()">
                        <button class="spinner increment" id="btntempincrement">+</button> 
                        </div>
                    </div>          
                </div>
            </div>
        </div> 
        <div class="typecanvs-area">
            <canvas id="typeCanvas"></canvas>
        </div>
        <div id="resultsBar" class="w3-container">
            <div class="w3-row">
                <div id="displayBoard" class="w3-twothird w3-center">
                    <div id="scoreColumn"><div id="txtScore"></div><div class="resultsBarLabel">SCORE</div></div>
                    <div id="timerColumn"><canvas id="timerCanvas"></canvas><div class="resultsBarLabel">TIME</div></div>
                    <div id="levelColumn"><canvas id="levelCanvas"></canvas><div class="resultsBarLabel">LEVEL</div></div>
                    <div id="strikesColumn"><div id="txtStrikes"></div><div class="resultsBarLabel">STRIKES</div></div>                
                </div>
            </div>
            <div class="w3-row">
                <div id="submitColumn" class="w3-third w3-left"> 
                    <input type="button" id="btnSubmit" value="Submit Answer">
        			<br>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="instructionsBox" class="w3-container split-screen-instructions">
    <h1 align="center">The Thermometer Reading Game - Learn and Practice Reading a Thermometer</h1>
	
<h2>Instructions:</h2>
                    <ul class="w3-ul">
                        <li>Use this game to learn and practice how to read an analog thermometer.</li>
						<li>You can choose between a Fahrenheit and Celsius thermometer.</li>
                        <li>This game can be played using a mouse or a touchscreen.</li>
                        <li>Press the <em><strong>Play Game</strong></em> button to begin playing the game.</li>
                        <li>A temperature to select will appear above the thermometer.</li>
                        <li><b>Computer:</b> Move your mouse up and down the thermometer and click when you think it is at the correct reading.
						<li><b>Tablet or phone:</b> Tap your finger on the spot you believe is correct.</li>
						<li>Then, if needed, use the minus and plus icons below the thermometer to control the level of the "mercury" precisely.</li>
						<li>When you believe you have the correct answer, click/tap the "Submit Answer" button below the thermometer.</li>
                        <li>For each correct answer, you will be awarded points. Your score is displayed on the left side of the Results Bar that appears below the thermometer.</li>
                        <li>Points are awarded based on the following table.
                              <table class="w3-table w3-bordered">
                                <tr><th>Level</th><th>Time Limit</th><th>Points</th></tr>
                                <tr><td>1</td><td>10 seconds</td><td>10</td></tr>
                                <tr><td>2</td><td>9 seconds</td><td>20</td></tr>
                                <tr><td>3</td><td>8 seconds</td><td>30</td></tr>
                                <tr><td>4</td><td>7 seconds</td><td>40</td></tr>
                                <tr><td>5</td><td>6 seconds</td><td>50</td></tr>
                                <tr><td>6</td><td>5 seconds</td><td>60</td></tr>
                                <tr><td>7</td><td>4 seconds</td><td>70</td></tr>
                                <tr><td>8</td><td>3 seconds</td><td>80</td></tr>
                                <tr><td>9</td><td>2 seconds</td><td>90</td></tr>
                                <tr><td>10</td><td>1 second</td><td>100</td></tr>
                              </table></li>
                        <li>Each time you correctly guess 5 temperatures, you will advance to the next level. Your current level is indicated in the Results Bar below the thermometer.</li>
                        <li>The timer is represented to the right of the score in the Results Bar. As time passes, the bar will get shorter.</li>
                        <li>If you have not submitted a temperature when the time runs out, you will receive a strike.</li>
                        <li>For each incorrect answer, you will receive a strike. After three strikes, your game is over. The number of strikes you have received is indicated on the right side of the Results Bar.</li>
                        <li>Click the <em><strong>Settings</strong></em> button to adjust your preferences for the game.
                            <ul>
                                <li><strong>Timer:</strong> The default setting is On. Select Off to have unlimited time to submit your answer.</li>
                                <li><strong>Sounds:</strong> The default setting is On. Select Off to disable all game sounds.</li>
								<li><strong>Unit:</strong> Choose between Fahrenheit or Celsius temperature unit.</li>
                                <li><strong>Mode:</strong> by default, you're in "<i>game mode</i>." If you want to make the game easier, you can select "<i>Training</i>" mode. In the training mode, you can see the current value of the thermometer below between the minus and plus icons. In "<i>Type</i>" mode, numbers appear next to the thermometer and you can enter the correct answer by either clicking these numbers or using your keyboard. Once you've entered your answer, click "Submit Answer." Note: In "Type" mode, the starting time is 20 seconds, and it decreases by 2 seconds after every 10 correct answers.</li>
                                <li>Settings are saved in your browser for the duration of your session.</li>
                            </ul></li>
                    </ul>
	
	
</div>
  
<br>

<footer class="w3-container w3-padding rulergame-dark-green">  
            <div class="w3-row-padding">

              <div class="w3-third">
                <h3>MEASURING GAMES</h3>
                <ul class="w3-ul">
                  <li class="w3-padding-16">
                    <a href="new-english-ruler-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">New Inch Ruler Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="new-metric-ruler-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">New Metric Ruler Game</a><br>
                  </li>
                  <li class="w3-padding-16">
                    <a href="v2-standard-english-ruler-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Original Inch Ruler Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="micrometer-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Inch Mictometer Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="metric-micrometer-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Metric Micrometer Game</a><br>
                  </li>
                  <li class="w3-padding-16">
                    <a href="v2-metric-ruler-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Original Metric Ruler Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="dial-caliper-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Dial Caliper Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="vernier-caliper-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Vernier Caliper Game</a><br>
                  </li>
                  <li class="w3-padding-16">
                    <a href="graduated-cylinder-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Graduated Cylinder Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="architectural-scale-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Architectural Scale Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="machinist-ruler-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Machinist Ruler Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="triple-beam-balance-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Triple Beam Balance Game</a><br>
                  </li>
                </ul>
              </div>

              <div class="w3-third">
                <h3>TIME AND TEMPERATURE GAMES</h3>
                <ul class="w3-ul">
                  <li class="w3-padding-16">
                    <a href="clock-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Clock Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="military-time-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Military Time Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="thermometer-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Thermometer Reading Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="temperature-conversion-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Temperature Conversion Game</a><br>
                  </li>
				</ul>
				<h3>MONEY AND LIFE GAMES</h3>
				<ul class="w3-ul">
				  <li class="w3-padding-16">
                    <a href="money-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Money Counting Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="shopping-money-counting-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Shopping Money Counting Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="counting-back-change-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Counting Back Change Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="blood-pressure-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Blood Pressure Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="stadiometer-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Stadiometer Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="physician-scale-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Physician Scale Game</a><br>
                  </li>
				  <li class="w3-padding-16">
                    <a href="cooking-conversions-game.php.html" class="w3-text-white w3-hover-opacity w3-large rulergame-no-underline">Cooking Conversions Game</a><br>
                  </li>
                </ul>
              </div>

              <div class="w3-third">
                <h3>CONTACT ME</h3>
                  <p class="w3-xxlarge w3-margin-top w3-margin-bottom">
                    <a href="privacy-policy.php.html#contact" class="w3-text-white w3-hover-opacity"><img src="contact-button.png" alt="Contact button"></a>
                    <a href="https://www.facebook.com/RulerGame/" class="w3-text-white w3-hover-opacity" target="_blank"><img src="facebook-button.png" alt="Facebook button"></a>
                  </p>                   
                  <p>Spears Technologies, Inc.<br>
                    Attn: The Ruler Game<br>
                    576 N. Birdneck Rd. #178<br>
                    Virginia Beach, VA 23451</p>
              </div>

            </div>
<div class="rulergame-dark-green w3-center w3-padding w3-border-top">Copyright &copy; 2025  by RulerGame.net and Ricky D. Spears. All Rights Reserved. <a href="privacy-policy.php.html" class="w3-text-white w3-hover-opacity">Privacy Policy</a><br><br><br></div>
</footer>
<script>
    var admin_settings = "";
        var game_id = "";
</script>

<script src="assets/js/jquery.min.js">  </script>
<script src="assets/js/jquery-3.6.0.min.js">  </script>
<script src="assets/js/bootstrap.min.js">  </script>
<script src="thermometer-reading/js/thermometer.js">  </script>
<script type='text/javascript'>
	var msrSelected = 0;
	var gameStarted = 0;
    /*drawing offset*/
    var scale;
    var xOffset;
    var yOffset = 40;
    var dragMode = 0; //0 == none, 1 = world, 2 = vernier, 3 = object

    var prev_mx, prev_my; //prev mouse positions
    // var bgColor = "rgb(0,64,84)";
    var bgColor = "rgb(255,255,255)";
    var fgColor = "orange";//rgb(255,255,255)";
    const scaleColor = "black";
    const mercuryColor = "rgb(210,62,72)";
    const whiteColor = "white";

    var loadedItems = 0;
    const itemsToLoad = 1;
    
    var imgBase = new Image();
    imgBase.src = "https://www.rulergame.net/thermometer-reading/images/thermometer.jpg"
    imgBase.onload = itemloaded;
    
	var cr; 

    const rulerWidthPixel = 915;
    const majorTickLengthPixels = 22;
    const minorTickLengthPixels = 13;
    const vernierMajorTickLengthPixels = 10;
    const vernierMinorTickLengthPixels = 6;

    const vernierScaleHeightPixels = 397; //354;

    const unit = "cm";
		
    var vernierScaleDivisions = 100;
	var vernierScaleDivisionsForInch = 100;
    var mainScaleDivisions = 50;
	
    var precision = 3;
    // var LC = 0;
    var msr = 0;
    var vsr = 0;
    var zeroError = 0;
	
    const scaleOriginX = 32; //jaw Left position
    // const scaleOriginY0 = 105; //105; //scale top position
    const scaleOriginY = 452; //162; //scale bottom position
    const offsetOriginX = 12; //distance of scale origin level from scaleOriginX
    const offsetOriginY = 0; //distance of scale origin level from scaleOriginY
    const vernierOriginX = 55; //distance of vernier origin in pixel in vernier.png
    const vernierOriginY = 204; //161;

    var objectWidthPixel = 25;
    var drawSubDivision = false;
    var randomZeroError = true;
    var randomMainScaleDivisions = true;
    var randomVernierScaleDivision = true;
    var randomObjectWidthPixel = true;
    var input_answer = "00000";

    var canvas = document.getElementById("myCanvas");
    var canvasArea = document.getElementById("canvasArea");

    let detailsOpenMode = navigator.userAgent;
    let regexp = /android|iphone|kindle|ipad/i;

    let isMobileDevice = regexp.test(detailsOpenMode);

	//canvas.width = window.innerWidth;
	//canvas.height = parseInt(window.width * 5 / 9, 10);
    {
        scale = 1.0;
		//if (getBaseImage().height > canvas.height - 150)
		{
			scale = (canvas.height - 150) / getBaseImage().height;
			scale = window.innerWidth / 400;
		}
		
		if (scale > 1.0)
			scale = 1;
		
    }
     
    var ctx = canvas.getContext("2d");
    ctx.font = "30px Arial";
    xOffset = (canvas.width - 164/*getBaseImage().width*/) / 2; //jaw Left position

	//Add event listeners
    window.addEventListener('resize', function(ev) { return resize(ev); });
    paint();
    
	function itemloaded()
	{
        loadedItems++;
        if(loadedItems == itemsToLoad)
		{			
			//console.log("Item loaded....");
			var defaultPrevent = function(e){ e.preventDefault() };
			
			canvas.addEventListener("mousedown", defaultPrevent);
			canvas.addEventListener("mousemove", defaultPrevent);
			
			document.addEventListener('touchstart', mousePressed, false);
			document.addEventListener('touchmove', mouseDragged, false); 
			document.addEventListener('touchend', mouseReleased, false);		
			document.addEventListener("mousemove", mouseDragged, false);
			document.addEventListener("mousedown", mousePressed, false);
			document.addEventListener("mouseup", mouseReleased, false); 

            canvas.addEventListener("mousewheel", mouseWheelMoved);
            window.addEventListener('keydown', onKeyEvent, false);
			window.addEventListener("orientationchange", resize());
			//window.addEventListener("onresize", resize());
			
			
            var typeCanvas = document.getElementById('typeCanvas');
            typeCanvas.addEventListener('click', getMouseClick, false);
        }
		
        paint();
    }

    function resize()
	{
        if(window.innerWidth < 10 || window.innerHeight < 10)
			return;
		        
		var width;
		var height;
		width = window.innerWidth;
		height = window.innerHeight;

        {
            scale = 1.0;

			{
				scale = (canvas.height - 150) / getBaseImage().height;
				scale = window.innerWidth / 400;
			}
			if (scale > 1.0)
				scale = 1.0;
        }
        
// 		msr = 0;
		//console.log("resize scale = " + scale);
        update();
    }

    init();

    function init()
	{
        resize();
    }


    function translateVernier(div)
	{
		if (div == 0)
		{
			//console.log("NONE");
			return;
		}
		msr += div;
		
		if(msr <= 0)
		{
			msr = 0;
		}
		
		if(msr >= getMainScaleDivisions())
		{
			msr = getMainScaleDivisions();
		}

        update();
    }

    function update(ev)
	{
        if(ev) 
			console.log(ev.value.toFixed(2));
        
        paint();
    }

    var set_input_answer = function (val) {
        var num_cnt = 0;

        num_cnt  = 3
        if (val == "Back") {
            input_answer = "" + parseInt(parseInt(input_answer) / 10);
            for (var i = input_answer.length; i < num_cnt; i ++) {
                input_answer = "0" + input_answer;
            }
        } else {
            input_answer += val;
            input_answer = input_answer.substring(input_answer.length - num_cnt);
        }

        console.log(input_answer);
    }
    

    function paint()
	{
        ctx.lineWidth = 1.5;
        ctx.fillStyle = bgColor;
        ctx.strokeStyle = fgColor;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
		
        ctx.font = '10pt sans-serif';

		{
			scale = 1.0;
			{
				scale = (canvas.height - 150) / getBaseImage().height;
				scale = window.innerWidth / 400;
				if (scale > 1.0)
					scale = 1.0;
			}
		}
        ctx.translate(xOffset , yOffset);
        ctx.save();

        let shift = parseInt(msr, 10) * getMsdPixels();
		
        //draw Base of gauge
        ctx.drawImage(getBaseImage(), 0, 0);

        ctx.translate(scaleOriginX, scaleOriginY + offsetOriginY);
        
        //////////    draw meniscus
        ctx.strokeStyle = scaleColor;
        ctx.fillStyle = mercuryColor;

        var cylinderWidth = getCylinderWidth();
        var msd_pixels = getMsdPixels();
        x = 65;
        y = -shift + 30;
        
        // console.log(y);
		ctx.beginPath();
        ctx.lineTo(x, Math.min(getFirstMsdPixels(), y));
        ctx.lineTo(x, 75);
        ctx.lineTo(x + cylinderWidth, 75);
		ctx.lineTo(x + cylinderWidth, Math.min(getFirstMsdPixels(), y));
        ctx.fill();

        ///////draw ruler on main scale
        var old_line_width = ctx.lineWidth;
        ctx.lineWidth = 1;

        let ticklength = 0;
        let labelGap = getLabelGap();
		let showGap = getShowGap();
        
        // for the ruler...
        var mainScaleDivisions = getMainScaleDivisions();
        var nTickType;
        var nDelta = 0;
		if (stgUnit === "Fahrenheit") {
			x = 65;
			y = 30;
		}
		else if (stgUnit === "Celsius") {
			x = 73;
            y = 30;
        }
		ctx.strokeStyle = scaleColor;
		ctx.fillStyle = scaleColor;
        ctx.font = "20px bold";
        for (let i = 0; i <= mainScaleDivisions; i++)
        {
            nTickType = getTickLengthLevel(i);
            if (nTickType == 0)
                ticklength = majorTickLengthPixels;
            else if (nTickType == 1)
                ticklength = (majorTickLengthPixels + minorTickLengthPixels) / 2;
            else if (nTickType == 2)
                ticklength = minorTickLengthPixels;
			else if (nTickType == -1)
            {
            	nDelta ++;

                continue;
            }
            
            /*if (shift >= -1 * y + msd_pixels)
                ctx.strokeStyle = whiteColor;
            else
                ctx.strokeStyle = scaleColor;
				
            if (shift > -1 * y + msd_pixels)
                ctx.fillStyle = whiteColor;
            else
                ctx.fillStyle = scaleColor;*/
            
			if (stgUnit === "Fahrenheit")
				drawLine(x, y, x - ticklength, y);
			else if (stgUnit === "Celsius")
				drawLine(x, y, x + ticklength, y);
			
            if (i % labelGap == showGap)
            {
				if (stgUnit === "Fahrenheit")
					outString(x - majorTickLengthPixels - 3, y - 2, (i * getMsdValue() - 30), 2, 1);
				else if (stgUnit === "Celsius")
					outString(x + majorTickLengthPixels + 3, y - 2, (i * getMsdValue() - 35), 0, 1);
            }
            y -= msd_pixels;
        }
        

        ctx.lineWidth = old_line_width;

		//ctx.strokestyle = scaleColor;
		//ctx.fillStyle = scaleColor;

        ////////////////
        ctx.fillStyle=fgColor;
        ctx.font = '12pt sans-serif';

        cr = getCorrectedReading();
        
        if (stgMode == "Trainer")
        {
			$("#verniersmallControl").val(formatValue(cr));
        }
		ctx.font = "bold 10px Arial";
        ctx.fillStyle='black';
		
        outString1(ctx, -140, 120+35, "Timer: " + stgTimer, 0, 0);
        outString1(ctx, -140, 135+35, "Unit: " + stgUnit, 0, 0);
        outString1(ctx, -140, 150+35, "Mode: " + (stgMode=="Trainer"?"Training":stgMode), 0, 0);
                    
		ctx.resetTransform();
        drawType()
    }

    function drawType(){
        var scale
       
			
        let canvas 
        var c = $("#typeCanvas");
        var ctx = c[0].getContext('2d');
        canvas = ctx.canvas
        if(stgMode == "Type"){
            ctx.canvas.height = 180;
            ctx.canvas.width = 320
            $(".number-input").hide();
		}
		else {
            ctx.canvas.height = 0;
            ctx.canvas.width = window.innerWidth > 1366 ? 600:window.innerWidth*0.8
            $(".number-input").show();
		}
        
        if (stgMode == "Type") {
            // show keyboards and input answer

            ctx.fillStyle = "rgb(255, 255, 255)";
            ctx.strokeStyle = "black";
            ctx.lineWidth = 1.5;
            ctx.fillRect(0 + 2, 0, canvas.width - 4, 150);
            // drawLine(ctx,0, canvas.height / 2 - 100, canvas.width , canvas.height / 2 - 100);
            //drawLine(-canvas.width / 2, canvas.height / 2 - 100, -canvas.width / 2, canvas.height / 2);
            //drawLine(-canvas.width / 2, canvas.height / 2, canvas.width / 2, canvas.height / 2);
            //drawLine(canvas.width / 2, canvas.height / 2 - 100, canvas.width / 2, canvas.height / 2);
            
            var input_type;
            console.log("randomQuestion====" + randomQuestion);
            
            
            
            if(1){
                show_num_start_x = 10; show_num_start_y = 10;
                // if (stgFraction == "Yes") {
                //     show_num_start_x -= 30;
                // }
                ctx.fillStyle = "rgb(200, 200, 200)";
                // ctx.fillRect(show_num_start_x + 40 * 3, show_num_start_y, 30, 35);
                if (stgUnit === "Fahrenheit")
                	stgSubScaleForML = "℉";
                else if (stgUnit === "Celsius")
                    stgSubScaleForML = "℃";
        
                
                ctx.fillRect(show_num_start_x + 40 * 0 + 45 + 20, show_num_start_y, 30, 35);
                ctx.fillRect(show_num_start_x + 40 * 1 + 45 + 20, show_num_start_y, 30, 35);
                // if (stgFraction == "Yes") {
                    ctx.fillRect(show_num_start_x + 40 * 2 + 47 + 20, show_num_start_y, 30, 35);
                // }
                ctx.fillStyle = "rgb(0, 0, 0)";
                ctx.font = '18pt sans-serif';
                
                if(randomQuestion < 0){
                    outString1(ctx, show_num_start_x + 40 * (-1) + 45 + 40, show_num_start_y + 14, "-", 0, 0);
                }
                // outString(ctx, show_num_start_x + 40 * 4 + 35, show_num_start_y + 18, "feet", 0, 0);
               
                    outString1(ctx, show_num_start_x + 40 * 3 + 45 + 20, show_num_start_y + 18, stgSubScaleForML, 0, 0);

                if (input_answer) {
                    // outString(ctx, show_num_start_x + 40 * 3 + 5, show_num_start_y + 15, input_answer[0], 0, 0);
                    outString1(ctx, show_num_start_x + 40 * 0 + 5 + 45 + 20, show_num_start_y + 15, input_answer[0], 0, 0);
                    outString1(ctx, show_num_start_x + 40 * 1 + 5 + 45 + 20, show_num_start_y + 15, input_answer[1], 0, 0);
                    // if (stgFraction == "Yes") {
                        outString1(ctx, show_num_start_x + 40 * 2 + 5 + 47 + 20, show_num_start_y + 15, input_answer[2], 0, 0);
                    // }
                }
            }
            ctx.font = '18pt sans-serif';
            ctx.lineWidth = 2;
            show_num_start_x = 50; show_num_start_y = 60;
            for (let i = 0; i <= 4; i++) {
                ctx.fillStyle = "rgb(255, 255, 255)";
                ctx.strokeStyle = "rgb(0, 0, 0)";
                ctx.strokeRect(show_num_start_x + 40 * i - 5, show_num_start_y, 30, 30);

                ctx.fillStyle = "rgb(0, 0, 0)";
                outString1(ctx, show_num_start_x + 40 * i, show_num_start_y + 15, i+1, 0, 0);
            }
            for (let i = 5; i <= 9; i++) {
                ctx.fillStyle = "rgb(255, 255, 255)";
                ctx.strokeStyle = "rgb(0, 0, 0)";
                ctx.strokeRect(show_num_start_x + 40 * (i-5) - 5, show_num_start_y+50, 30, 30);

                ctx.fillStyle = "rgb(0, 0, 0)";
                outString1(ctx, show_num_start_x + 40 * (i-5), show_num_start_y + 15+50, (i+1)%10, 0, 0);
            }
            ctx.fillStyle = "rgb(255, 255, 255)";
            ctx.strokeStyle = "rgb(0, 0, 0)";
            ctx.strokeRect(show_num_start_x + 40 * 5 - 10 + 10, show_num_start_y, 30, 30);

            ctx.fillStyle = "rgb(0, 0, 0)";
            outString1(ctx, show_num_start_x + 40 * 5 - 7 + 10, show_num_start_y + 15 - 3, "←", 0, 0);
        }
    }
    
    function getBaseImage()
    {
        return imgBase;
    }

    function getMainScaleDivisions()
    {
        if (stgUnit == "Fahrenheit")
            return 150 / 2;
        if (stgUnit == "Celsius")
            return 85 / 1;
    }

    function getTickLengthLevel(i)
    {
        if (i < 0)
            return -1;
        if (i % 5 == 0)
            return 1;
		if (i % 10 == 0)
			return 0;
        return 2;
    }

    function getMsdPixels()
    {
        var mainScaleLengthPixels;
        if (stgUnit === 'Fahrenheit')
            mainScaleLengthPixels = 380;
        else if (stgUnit === 'Celsius')
            mainScaleLengthPixels = 380;
        var msd_pixels = mainScaleLengthPixels / getMainScaleDivisions();
        return msd_pixels;
    }

    function getFirstMsdPixels()
    {
        // return scaleOriginY + offsetOriginY;
        if (stgUnit === 'Fahrenheit') {
            return 30;
        } else if (stgUnit === 'Celsius') {
            return 30;
        }
    }

    function getMsdValue()
    {
        if (stgUnit == "Fahrenheit")
            return 2;
        if (stgUnit == "Celsius")
            return 1;
    }

    function getCylinderWidth()
    {
		return 6.5;
    }

    function getThermometerWidth()
    {
        return 150;
    }

    function getCylinderHeight()
    {
		return 280;
    }

    function getLabelGap()
    {
        if (stgUnit == "Fahrenheit")
            return 10;
        if (stgUnit == "Celsius")
            return 10;
    }
	
	function getShowGap()
	{
		if (stgUnit == "Fahrenheit")
			return 5;
		if (stgUnit == "Celsius")
			return 5;
	}

    function getZeroError()
	{
    	return (zeroError / vernierScaleDivisions) * getMsdValue();
    }

	function formatInchValue(s)
	{
		s = s / 2.54;
        return s.toFixed(precision) + "inch";
    }
	
    function formatValue(s)
	{
		//s = Math.round(s * 400) / 400;
		s = parseInt(s * 10, 10) / 10;
		
        return s.toFixed(0); // + unit;
    }
	
    function getCorrectedReading()
	{
        var ret = (parseInt(msr, 10) + getMinScale()) * getMsdValue();
        return ret;
    }
    
    
    function getMsrReading(cr_val)
	{
        // var ret = (parseInt(msr, 10) + getMinScale()) * getMsdValue();
        var ret = parseInt(cr_val / getMsdValue() - getMinScale(), 10);
        return ret;
    }

    function getMinScale()
    {
        if (stgUnit === 'Fahrenheit')
            return -15;
        else if (stgUnit === 'Celsius')
            return -35;
		return 0;
	}
	
    /**
     * returns +ve remainder whn a is divided by n
     * */
    function mod(a,n)
	{
        return ((a % n ) + n ) % n;
    }
	
    function drawLine(x1, y1, x2, y2)
	{
        ctx.beginPath();
        ctx.moveTo(x1, y1);
        ctx.lineTo(x2, y2);
        ctx.stroke();
    }

    // x0,y0: the line's starting point
    // x1,y1: the line's ending point
    // width: the distance the arrowhead perpendicularly extends away from the line
    // height: the distance the arrowhead extends backward from the endpoint
    // arrowStart: true/false directing to draw arrowhead at the line's starting point
    // arrowEnd: true/false directing to draw arrowhead at the line's ending point
    function drawLineWithArrows(x0, y0, x1, y1, aWidth, aLength, arrowStart, arrowEnd)
	{
        var dx = x1 - x0;
        var dy = y1 - y0;
        var angle = Math.atan2(dy, dx);
        var length = Math.sqrt(dx * dx + dy * dy);

		ctx.save();
        ctx.translate(x0, y0);
        ctx.rotate(angle);
        ctx.beginPath();
        ctx.moveTo(0, 0);
        ctx.lineTo(length, 0);
        if(arrowStart)
		{
            ctx.moveTo(aLength, -aWidth);
            ctx.lineTo(0, 0);
            ctx.lineTo(aLength, aWidth);
        }
        if(arrowEnd)
		{
            ctx.moveTo(length - aLength, -aWidth);
            ctx.lineTo(length, 0);
            ctx.lineTo(length - aLength, aWidth);
        }
        
        ctx.stroke();
        ctx.restore();
    }
	
    function outString( x, y, s, x_align, y_align) 
	{
        var fm = ctx.measureText(s);
        var h = 20;//fm.height not supported in browsers
        
		switch (y_align) 
		{
            case 0:
                y += h;
                break;
            case 1:
                y += h / 2;
                break;
            case 2:
                break;
        }
		
        switch (x_align) 
		{
            case 0:
                ctx.fillText(s, x + 3, y);
                break;
            case 1:
                ctx.fillText(s, x - fm.width / 2, y);
                break;
            case 2:
                ctx.fillText(s, x - fm.width, y);
                break;
        }
    }
    
    function outString1(ctx, x, y, s, x_align, y_align) {
        var fm = ctx.measureText(s);
        var h = 10;//fm.height not supported in browsers

        switch (y_align) {
            case 0:
                y += h;
                break;
            case 1:
                y += h / 2;
                break;
            case 2:
                break;
        }

        switch (x_align) {
            case 0:
                ctx.fillText(s, x + 3, y);
                break;
            case 1:
                ctx.fillText(s, x - fm.width / 2, y);
                break;
            case 2:
                ctx.fillText(s, x - fm.width / 2, y);
                break;
        }
    }
    
    function getMousePosWindow(event) {
        return [event.clientX, event.clientY];
    }

    function getTouchPosWindow(event) {
        return [event.touches[0].pageX, event.touches[0].pageY];
    }

    function getMousePos(event)
	{
		return [ event.clientX ,event.clientY ];
    }
    
    function getMousePos1(canvas, evt) {
        // from https://www.html5canvastutorials.com/advanced/html5-canvas-mouse-coordinates/
        var rect = canvas.getBoundingClientRect();
        return {
            x: evt.clientX - rect.left,
            y: evt.clientY - rect.top
        };
      }
	
	function getTouchPos(event)
	{
		return [event.touches[0].pageX, event.touches[0].pageY];
	}

    function mousePressed( me) 
	{
	    if (stgMode == "Type") return;
        /*var m;

		if (me.type == 'touchstart')
			m = getTouchPos(me);
		else
			m = getMousePos(me);
		
		var doc = document.documentElement;
		var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);
		var top = (window.pageYOffset || doc.scrollTop)  - (doc.clientTop || 0);

		var x, y;
		
		if (me.type != 'touchstart')
		{
			x = (m[0] - canvas.offsetLeft + left) / scale; // - canvas.offsetLeft ;
			y = (m[1] - canvas.offsetTop + top) / scale; // - canvas.offsetTop + top ;
		}
		else
		{
			x = (m[0] - canvas.offsetLeft) / scale; // - canvas.offsetLeft ;
			y = (m[1] - canvas.offsetTop) / scale; // - canvas.offsetTop + top ;
		}		

        var offsetOriginY = 5 * getMsdPixels();
        var xBoundLeft = xOffset + scaleOriginX;
        var xBoundRight = xBoundLeft + getCylinderWidth();
        var yBoundBottom = yOffset + scaleOriginY - getCylinderHeight();
        var yBoundTop = yOffset + scaleOriginY + offsetOriginY;
        
		console.log("-----------------------------");
		console.log("x : " +x);
        console.log("y : " +y);
        console.log("x bound left : " +xBoundLeft);
        console.log("x bound right : " +xBoundRight);
        console.log("y bound bottom : " +yBoundBottom);
        console.log("y bound top : " +yBoundTop); 
        
		if (y > yBoundBottom && y < yBoundTop &&
            x > xBoundLeft - 15 && x < xBoundRight)
        {
            dragMode = 2;
        }
        else
        {
            dragMode = 0;
        }
		
        paint();
        prev_mx = m[0];
        prev_my = m[1];
        */
		
		//console.log("-----MousePressed-----");
		
		var m;
		if(me.type == 'touchstart')
			m = getTouchPos(me);
		else 
			m = getMousePos(me);

		var doc = document.documentElement;
		var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);
		var top = (window.pageYOffset || doc.scrollTop)  - (doc.clientTop || 0);

		var x, y;
		var isMobile = 0;
		if (me.type != 'touchstart')
		{
			x = (m[0] - canvas.offsetLeft - canvasArea.offsetLeft + left) / scale; // - canvas.offsetLeft ;
			y = (m[1] - canvas.offsetTop - canvasArea.offsetTop + top) / scale; // - canvas.offsetTop + top ;
			/*x = m[0] / scale;
			y = m[1] / scale;*/
		}
		else
		{
			x = (m[0] - canvas.offsetLeft - canvasArea.offsetLeft) / scale; // - canvas.offsetLeft ;
			y = (m[1] - canvas.offsetTop - canvasArea.offsetTop) / scale; // - canvas.offsetTop + top ; */
			/*x = m[0] / scale;
			y = m[1] / scale;*/
			
			isMobile = 1;
		}		

        var offsetOriginY = 5 * getMsdPixels();
        var xBoundLeft = xOffset + scaleOriginX;
        var xBoundRight = xBoundLeft + getThermometerWidth();
        var yBoundBottom = yOffset + 30 /*+ scaleOriginY - getCylinderHeight()*/;
        var yBoundTop = yOffset + scaleOriginY + 30 /*+ offsetOriginY*/;
		
		if (y > yBoundBottom && y < yBoundTop &&
            x > xBoundLeft && x < xBoundRight)
		{
			//if (stgMode == "Game" && gameStarted == 1)
			{
				msrSelected = 1; // = (yBoundTop - y) / getMsdPixels();
			}
			//else
			//	msrSelected = 0;
		}
		
		/*console.log("-----------------------------");
		console.log("x : " +x);
        console.log("y : " +y);
        console.log("x bound left : " +xBoundLeft);
        console.log("x bound right : " +xBoundRight);
        console.log("y bound bottom : " +yBoundBottom);
        console.log("y bound top : " +yBoundTop);*/
		
		if (isMobile)
		{
			if (y > yBoundBottom && y < yBoundTop &&
					x > xBoundLeft && x < xBoundRight)
			{
				msr = (yBoundTop - y) / getMsdPixels();
			
				if(msr >= getMainScaleDivisions())
				{
					msr = getMainScaleDivisions();
				}
				
				if (msr < 0)
				    msr = 0;
				
				update();
			}
					
			
			
			//me.preventDefault();
		}
		
		//me.preventDefault();
    }

    function mouseReleased(me) 
	{
        dragMode=0;
    }

    function mouseWheelMoved(me) 
	{
	    if (stgMode == "Type") return;
        var scroll = me.wheelDelta > 0 ? 1 : -1;
        translateVernier(scroll);
        
		me.preventDefault();
    }

    function mouseDragged( me) 
	{
	    if (stgMode == "Type") return;
		if (msrSelected == 1)
			return;
		if(me.target.id != 'myCanvas') return;
		var m;
		if(me.type == 'touchmove')
			m = getTouchPos(me);
		else 
			m = getMousePos(me);

		var doc = document.documentElement;
		var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);
		var top = (window.pageYOffset || doc.scrollTop)  - (doc.clientTop || 0);

		var x, y;
		
		if (me.type != 'touchstart')
		{
			x = (m[0] - canvas.offsetLeft - canvasArea.offsetLeft + left) / scale; // - canvas.offsetLeft ;
			y = (m[1] - canvas.offsetTop - canvasArea.offsetTop + top) / scale; // - canvas.offsetTop + top ;*/
			/*x = (m[0] - canvas.offsetLeft) / scale;
			y = (m[1] - canvas.offsetTop) / scale;*/
		}
		else
		{
			x = (m[0] - canvas.offsetLeft - canvasArea.offsetLeft) / scale; // - canvas.offsetLeft ;
			y = (m[1] - canvas.offsetTop - canvasArea.offsetTop) / scale; // - canvas.offsetTop + top ; */
			/*x = m[0] / scale;
			y = m[1] / scale;*/
		}		

        var offsetOriginY = 5 * getMsdPixels();
        var xBoundLeft = xOffset + scaleOriginX;
        var xBoundRight = xBoundLeft + getThermometerWidth();
        var yBoundBottom = yOffset + 30 /*+ scaleOriginY - getCylinderHeight()*/;
        var yBoundTop = yOffset + scaleOriginY + 30 /*+ offsetOriginY*/;
		
		if (y > yBoundBottom && y < yBoundTop &&
            x > xBoundLeft && x < xBoundRight)
		{
			msr = (yBoundTop - y) / getMsdPixels();
		}
		else
		{
			//if (!(stgMode == "Game" && gameStarted == 1))
			//	msr = 0;
			if (msrSelected == 0)
				msr = 0;
		}
		
		if(msr >= getMainScaleDivisions())
		{
			msr = getMainScaleDivisions();
			//console.log("msr=" + msr);
		}
		
		if (msr < 0)
			msr = 0;
		
/*		console.log("-----------------------------");
		console.log("x : " +x);
        console.log("y : " +y);
        console.log("x bound left : " +xBoundLeft);
        console.log("x bound right : " +xBoundRight);
        console.log("y bound bottom : " +yBoundBottom);
        console.log("y bound top : " +yBoundTop); */
		paint();
		
    }


    function onKeyEvent(e)
	{
        if(e.keyCode==39 ||e.keyCode==38)
		{
            translateVernier(1);
        }
        else if (e.keyCode==37||e.keyCode==40)
		{
            translateVernier(-1);
        }
        else if (e.keyCode==33) //page up
		{
            scale *= 1.05;
            update();
        }
        else if (e.keyCode==34) //page down
		{
            scale *= 0.96;
            update();
        }
        else if (e.keyCode >= 96/*'0'*/ && e.keyCode <= 105/*'9'*/)  // when using numpad...
        {
            {
                set_input_answer("" + (e.keyCode - 96));
                drawType()
            }
        } else if (e.keyCode >= 48/*'0'*/ && e.keyCode <= 57/*'9'*/) {
            {
                set_input_answer("" + (e.keyCode - 48));
                drawType()
            }
        } else if (e.keyCode == 8/*BackSpace*/) {
            set_input_answer("Back");
            drawType()
        }
		else 
		{
            return false;
        }

        e.preventDefault();
    }
    
    function getMouseClick(me) {
        if (stgMode == "Type") {
            var m;

            if (me.type == 'touchstart')
                m = getTouchPosWindow(me);
            else
                m = getMousePosWindow(me);
            
            // var doc = document.documentElement;
            // var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);
            // var top = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);
    

            var x, y;
            // if (me.type != 'touchstart') {
            //     //x = (m[0] - canvas.offsetLeft + left) / scale - xOffset; // - canvas.offsetLeft ;
            //     //y = (m[1] - canvas.offsetTop + top) / scale - yOffset; // - canvas.offsetTop + top ;
            //     x = (m[0] - canvas.offsetLeft + left) / scale - xOffset; // - canvas.offsetLeft ;
            //     y = (m[1] - canvas.offsetTop + top) / scale - yOffset; // - canvas.offsetTop + top ;
            // }
            // else {
            //     //x = (m[0] - canvas.offsetLeft) / scale - xOffset; // - canvas.offsetLeft ;
            //     //y = (m[1] - canvas.offsetTop) / scale - yOffset; // - canvas.offsetTop + top ;
            //     x = (m[0] - canvas.offsetLeft) / scale - xOffset; // - canvas.offsetLeft ;
            //     y = (m[1] - canvas.offsetTop) / scale - yOffset; // - canvas.offsetTop + top ;
            // }

            var canvas = document.getElementById('typeCanvas');

            var mousePosTmp = getMousePos1(canvas, me);
            x = mousePosTmp.x
            y = mousePosTmp.y;
            console.log("x", x)
            console.log("y", y)
            if (y > (60) && y < (90)) {
                if (x > (45 + 40 * 5) && x < (85 + 40 * 5)) {
                    set_input_answer("Back");
                } else {
                    for (let i = 0; i <= 4; i++) {
                        if (x > (45 + 40 * i) && x < (85 + 40 * i)) {
                            set_input_answer("" + (i+1));
                            break;
                        }
                    }
                }
            }
            
            if (y > (110) && y < (140)) {
                for (let i = 0; i <= 4; i++) {
                    if (x > (45 + 40 * i) && x < (85 + 40 * i)) {
                        set_input_answer("" + (i+5+1)%10);
                        break;
                    }
                }
            }
            drawType()
            return;
        } 
        //console.log("Clicked on " + mousePos.x + ","+ mousePos.y);
        if (pause || gameover)
            return

        //var canvasX = mousePos.x;
        var rulerX = mousePos.x - offsetLeft;
        drawSections = stgRulerLength * stgRulerPrecision;
        var sectionWidth = (250 * stgRulerLength) / drawSections;
        var nearestSection = Math.round(rulerX / sectionWidth);
        checkGuess(nearestSection);

    }
</script>

<script>
    function toggleNavMenu() {
        var x = document.getElementById("NavMenu");
        if (x.className.indexOf("w3-show") == -1) {  
            x.className += " w3-show";
        } else { 
            x.className = x.className.replace(" w3-show", "");
        }
    }

    function toggleCategory(categoryId) {
        var category = document.getElementById(categoryId);
        if (category.className.indexOf("w3-show") == -1) {  
            category.className += " w3-show";
        } else { 
            category.className = category.className.replace(" w3-show", " w3-hide");
        }
    }
</script>

<script type="text/javascript" async="" src="https://btloader.com/tag?o=5698917485248512&upapi=true&domain=rulergame.net"></script>

<script>!function(){"use strict";var e;e=document,function(){var t,n;function r(){var t=e.createElement("script");t.src="https://cafemedia-com.videoplayerhub.com/galleryplayer.js",e.head.appendChild(t)}function a(){var t=e.cookie.match("(^|[^;]+)\s*__adblocker\s*=\s*([^;]+)");return t&&t.pop()}function c(){clearInterval(n)}return{init:function(){var e;"true"===(t=a())?r():(e=0,n=setInterval((function(){100!==e&&"false" !== t || c(), "true" === t && (r(), c()), t = a(), e++}), 50))}}}().init()}();
</script>
</body>
</html>